<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I3DA 2026 - International Conference on Immersive and 3D Audio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'lagoon-blue': '#005f73',
                        'lagoon-light': '#4da8b8',
                        'lagoon-bg': '#f0f8f8',
                        'venice-red': '#A52A2A', 
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Smooth scrolling */
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; height: 100vh; overflow: hidden; }
        
        .nav-link { transition: all 0.2s; padding: 0.5rem 0.75rem; display: block; border-radius: 0.375rem; cursor: pointer; }
        .nav-link:hover, .nav-link.active { color: #005f73; font-weight: 700; background-color: #f0f8f8; }
        
        .section-padding { padding: 4rem 1.5rem; }
        @media (min-width: 640px) { .section-padding { padding: 5rem 3rem; } }
        
        /* Sidebar Transitions */
        #sidebar-logo-area { transition: opacity 0.5s ease-in-out; }
        
        /* Utility */
        .section-hidden { display: none; }

        /* --- ANIMATION CANVAS STYLING --- */
        #anim-canvas-container {
            width: 100%; /* Fill the sidebar width */
            height: 220px; /* Fixed height to frame the logo */
            position: relative;
            overflow: hidden;
            /* Flex center to keep logo in middle */
            display: flex;
            justify-content: center;
            align-items: flex-end; /* Align to bottom to meet text */
            padding-bottom: 0px; /* Remove padding to close gap */
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

    <div class="flex h-screen overflow-hidden">
        <aside id="sidebar" class="w-72 flex-shrink-0 bg-white shadow-xl overflow-y-auto hidden md:block transition-all duration-300">
            
            <div id="sidebar-logo-area" class="pt-6 pb-2 text-center border-b border-gray-200 opacity-0">
                
                <div id="anim-canvas-container">
                    <canvas id="logoCanvas"></canvas>
                </div>
                
                <div class="-mt-6 relative z-10">
                    <h1 class="text-2xl font-extrabold text-lagoon-blue leading-none">I3DA 2026</h1>
                    <p class="text-base font-bold text-gray-700 leading-tight mt-1">Venice, Italy</p>
                    <p class="text-base font-bold text-gray-700 leading-tight">19–22 Nov</p>
                </div>
            </div>
            
            <div class="p-8 pt-4">
                <nav class="space-y-1">
                    <a data-target="about" class="nav-link text-sm font-semibold text-gray-800 active">About</a>
                    <a data-target="news" class="nav-link text-sm font-semibold text-gray-800">News</a>
                    <a data-target="call-for-papers" class="nav-link text-sm font-semibold text-gray-800">Call for papers</a>
                    <a data-target="committees" class="nav-link text-sm font-semibold text-gray-800">Organisers</a>
                    <a data-target="program" class="nav-link text-sm font-semibold text-gray-800">Program</a>
                    <a data-target="registration" class="nav-link text-sm font-semibold text-gray-800">Registration</a>
                    <a data-target="sponsors" class="nav-link text-sm font-semibold text-gray-800">Sponsors</a>
                    <a data-target="venue" class="nav-link text-sm font-semibold text-gray-800">Venue</a>
                    <a data-target="contact" class="nav-link text-sm font-semibold text-gray-800">Contact</a>
                </nav>
            </div>
        </aside>

        <header class="md:hidden bg-white shadow-md fixed w-full z-10">
            <div class="flex justify-between items-center h-16 px-4">
                <div class="text-lg font-bold text-gray-800">I3DA 2026</div>
                <button id="menu-button" type="button" class="p-2 rounded-md text-gray-500 hover:bg-gray-100">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                </button>
            </div>
        </header>

        <div id="mobile-menu" class="hidden fixed inset-0 z-20 bg-white overflow-y-auto p-6 pt-16">
            <h2 class="text-2xl font-bold mb-4 text-lagoon-blue">Menu</h2>
            <nav class="space-y-2">
                <a data-target="about" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">About</a>
                <a data-target="news" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">News</a>
                <a data-target="call-for-papers" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Call for papers</a>
                <a data-target="committees" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Organisers</a>
                <a data-target="program" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Program</a>
                <a data-target="registration" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Registration</a>
                <a data-target="sponsors" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Sponsors</a>
                <a data-target="venue" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Venue</a>
                <a data-target="contact" class="nav-link block text-lg font-semibold text-gray-800 hover:bg-lagoon-bg">Contact</a>
            </nav>
        </div>

        <main id="content-area" class="flex-grow overflow-y-auto bg-gray-50 md:mt-0 mt-16 scroll-smooth">
            <section id="main-banner" class="w-full">
                <img src="blue5.jpg" alt="I3DA 2026 Banner" class="w-full h-auto block" onerror="this.src='https://placehold.co/1000x224/E0F2F1/005F73?text=I3DA+Banner';">
            </section>

            <section id="about" class="section-padding bg-white min-h-screen">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-8">I3DA: Immersive Media in Heritage, Nature and Consciousness</h1>
                    
                    <p class="text-center text-xl text-gray-700 mb-8 leading-relaxed">
                        We are organising the 4th<br><strong>International Conference on Immersive and 3D Audio</strong><br>
                        The University of Bologna will host the event in <strong>Venice,</strong><br>19–22 November, 2026
                    </p>
                    <p class="text-gray-600 text-lg mb-6 leading-relaxed text-center font-semibold">Save the date! More info coming soon....</p>
                    <hr class="my-10 border-gray-200">
                    <p class="text-gray-600 text-lg mb-6 leading-relaxed text-justify">
                        I3DA 2026 will again focus on innovation in 3D immersive audio...
                    </p>
                </div>
            </section>

            <section id="news" class="section-padding bg-white min-h-screen section-hidden">
                <div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Latest News</h2><p>News content...</p></div>
            </section>
            <section id="call-for-papers" class="section-padding bg-gray-100 min-h-screen section-hidden">
                <div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Call for Papers</h2><p>Content...</p></div>
            </section>
            <section id="committees" class="section-padding bg-white section-hidden"><div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Organisers</h2><p>Committee list...</p></div></section>
            <section id="program" class="section-padding bg-gray-100 section-hidden"><div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Program</h2><p>Schedule...</p></div></section>
            <section id="registration" class="section-padding bg-white section-hidden"><div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Registration</h2><p>Registration info...</p></div></section>
            <section id="sponsors" class="section-padding bg-gray-100 section-hidden"><div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Sponsorship Opportunities</h2><p>Details...</p></div></section>
            <section id="venue" class="section-padding bg-white section-hidden"><div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold text-gray-800 mb-8 border-b border-gray-300 pb-2">Venue</h2><p>Venue details...</p></div></section>
            <section id="contact" class="section-padding bg-gray-800 text-white section-hidden"><div class="max-w-4xl mx-auto"><h2 class="text-4xl font-bold mb-8 border-b border-gray-300 pb-2">Contact Us</h2><p>Contact info...</p></div></section>

            <footer class="bg-gray-900 text-white py-6 text-center text-sm">&copy; 2026 I3DA International Conference. Hosted by The University of Bologna.</footer>
        </main>
    </div>

    <script>
        // --- ANIMATION CONFIG ---
        const canvas = document.getElementById('logoCanvas');
        const ctx = canvas.getContext('2d');
        const logoSrc = 'logo.jpg'; // CHANGE THIS IF NEEDED

        // SETTINGS (Applied from your Screenshot)
        const settings = {
            amplitude: 75,
            frequency: 15,      
            freqRamp: 1,     
            speed: 0.009,      
            morphSpeed: 0.008, 
            holdTime: 9.5,     
            pSize: 1.0         
        };

        let particles = [];
        let width, height;
        let isAnimating = false;
        
        let globalTime = 0;       
        let wavePhaseAcc = 0;     
        let stateTime = 0;        
        let loopState = 'wave';   
        let morphProgress = 0;
        
        let sourceImageObj = null;
        let animationFrameId;

        // --- ANIMATION LOGIC ---
        function initAnimation(img) {
            // Resize logic to fill container
            width = canvas.parentElement.offsetWidth;
            height = canvas.parentElement.offsetHeight;
            const dpr = window.devicePixelRatio || 1;
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            ctx.scale(dpr, dpr);

            // Scale image to fill width comfortably
            // 0.85 scale gives it presence without touching edges
            const scale = Math.min(width / img.width, height / img.height) * 0.85;
            const drawW = img.width * scale;
            const drawH = img.height * scale;
            
            // Center Horizontally, Align closer to Bottom Vertically
            const offX = (width - drawW) / 2;
            const offY = (height - drawH) / 2 + 15; // +15 pushes it down closer to the negative margin text

            // Draw temp to read pixels
            ctx.drawImage(img, offX, offY, drawW, drawH);
            const imgData = ctx.getImageData(0, 0, width * dpr, height * dpr);
            const data = imgData.data;

            particles = [];
            const step = 1 * dpr; // High Res
            
            for (let y = 0; y < height * dpr; y += step) {
                for (let x = 0; x < width * dpr; x += step) {
                    const index = (y * (width * dpr) + x) * 4;
                    const a = data[index + 3];
                    const r = data[index];
                    const g = data[index+1];
                    const b = data[index+2];

                    // Pixel detection (Dark pixels on white bg)
                    if (a > 128 && (r+g+b)/3 < 200) {
                        particles.push({
                            x: x / dpr,
                            y: y / dpr,
                            phaseOffset: (x / width) * 10 
                        });
                    }
                }
            }
            ctx.clearRect(0, 0, width, height); // Clear temp draw
        }

        function startAnimation() {
            if(!sourceImageObj) return;
            stateTime = 0;
            morphProgress = 0;
            loopState = 'wave';
            isAnimating = true;
            if(animationFrameId) cancelAnimationFrame(animationFrameId);
            loop();
        }

        function loop() {
            if (!isAnimating) return;

            // Frequency Ramp Logic
            let currentFreq = settings.frequency;
            if (loopState === 'wave') {
                currentFreq += Math.min(stateTime, 2.0) * settings.freqRamp;
            } else {
                currentFreq += 2.0 * settings.freqRamp;
            }

            wavePhaseAcc += settings.speed * currentFreq;
            globalTime += settings.speed;
            stateTime += (1/60); 

            // State Machine
            if (loopState === 'wave') {
                if (stateTime > 2.5) {
                    loopState = 'forming';
                    stateTime = 0;
                }
            } 
            else if (loopState === 'forming') {
                morphProgress += settings.morphSpeed;
                if (morphProgress >= 1) {
                    morphProgress = 1;
                    loopState = 'holding';
                    stateTime = 0;
                }
            }
            else if (loopState === 'holding') {
                if (stateTime >= settings.holdTime) {
                    loopState = 'dissolving';
                    stateTime = 0;
                }
            }
            else if (loopState === 'dissolving') {
                morphProgress -= settings.morphSpeed;
                if (morphProgress <= 0) {
                    morphProgress = 0;
                    loopState = 'wave';
                    stateTime = 0;
                }
            }

            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = "black"; // Monochrome

            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];

                const waveY = (height / 2) + 
                              Math.sin(p.phaseOffset + wavePhaseAcc) * settings.amplitude * Math.sin(globalTime * 0.5); 
                
                const targetY = p.y;
                const t = morphProgress;
                const ease = t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
                const renderY = waveY + (targetY - waveY) * ease;

                ctx.fillRect(p.x, renderY, settings.pSize, settings.pSize); 
            }

            animationFrameId = requestAnimationFrame(loop);
        }

        // --- NAVIGATION LOGIC ---
        const menuButton = document.getElementById('menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const contentArea = document.getElementById('content-area');
        const sidebarLogoArea = document.getElementById('sidebar-logo-area');
        const mainBanner = document.getElementById('main-banner');
        
        // Load Image
        const img = new Image();
        img.onload = () => {
            sourceImageObj = img;
            initAnimation(img);
        };
        img.src = logoSrc;

        // Mobile Menu
        menuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        document.querySelectorAll('#mobile-menu a').forEach(l => {
            l.addEventListener('click', (e) => {
                mobileMenu.classList.add('hidden');
                handleNavigation(e.currentTarget.getAttribute('data-target'));
            });
        });

        // Desktop Sidebar
        document.querySelectorAll('#sidebar nav a').forEach(link => {
            link.addEventListener('click', (e) => {
                handleNavigation(e.currentTarget.getAttribute('data-target'));
            });
        });

        function handleNavigation(targetId) {
            const allSections = ['about', 'news', 'call-for-papers', 'committees', 'program', 'registration', 'sponsors', 'venue', 'contact'];
            
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.querySelectorAll(`.nav-link[data-target="${targetId}"]`).forEach(l => l.classList.add('active'));

            allSections.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.add('section-hidden');
            });
            const targetSection = document.getElementById(targetId);
            if (targetSection) targetSection.classList.remove('section-hidden');

            contentArea.scrollTop = 0;

            if (targetId === 'about') {
                if (mainBanner) mainBanner.classList.remove('hidden');
                sidebarLogoArea.classList.remove('opacity-100');
                sidebarLogoArea.classList.add('opacity-0');
                isAnimating = false; // Pause on home
            } else {
                if (mainBanner) mainBanner.classList.add('hidden');
                sidebarLogoArea.classList.remove('opacity-0');
                sidebarLogoArea.classList.add('opacity-100');
                
                // Only start if not already animating
                if(sourceImageObj && !isAnimating) startAnimation();
            }
        }

        handleNavigation('about');

    </script>
</body>
</html>
